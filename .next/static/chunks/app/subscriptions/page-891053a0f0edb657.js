(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[651],{2882:(e,s,t)=>{Promise.resolve().then(t.bind(t,584))},4267:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(7401).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},7594:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(7401).A)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},3473:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(7401).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},2722:(e,s,t)=>{"use strict";t.d(s,{A:()=>A});var r=t(5155),l=t(2115),a=t(8173),i=t.n(a),n=t(6046),o=t(6507),c=t(6233),d=t(2823),x=t(1466),m=t(8236);function u(e){let{collapsed:s,setCollapsed:t}=e,l=(0,n.usePathname)(),a=[{name:"Dashboard",href:"/dashboard",icon:o.A},{name:"Subscriptions",href:"/subscriptions",icon:c.A},{name:"Pools",href:"/pools",icon:d.A},{name:"Profile",href:"/profile",icon:x.A},{name:"Settings",href:"/settings",icon:m.A}],u=e=>l===e||l.startsWith("".concat(e,"/"));return(0,r.jsxs)("aside",{className:"bg-gray-900 ".concat(s?"w-20":"w-64"," flex-shrink-0 border-r border-gray-800 h-full transition-all duration-300 ease-in-out flex flex-col"),children:[(0,r.jsx)("div",{className:"flex items-center justify-center h-16 border-b border-gray-800",children:(0,r.jsx)("div",{className:"flex items-center ".concat(s?"justify-center":"justify-start pl-6"),children:(0,r.jsx)("div",{className:"text-purple-500 font-bold text-xl",children:s?"SS":"SubSplitter"})})}),(0,r.jsx)("nav",{className:"mt-6 flex-1",children:(0,r.jsx)("ul",{className:"space-y-2 px-3",children:a.map(e=>(0,r.jsx)("li",{children:(0,r.jsx)(i(),{href:e.href,passHref:!0,children:(0,r.jsxs)("div",{className:"flex items-center px-3 py-3 rounded-md transition-colors duration-200 ".concat(u(e.href)?"bg-purple-600 bg-opacity-20 text-purple-400":"text-gray-400 hover:bg-gray-800 hover:text-white"),children:[(0,r.jsx)(e.icon,{size:20}),!s&&(0,r.jsx)("span",{className:"ml-4",children:e.name})]})})},e.name))})}),(0,r.jsx)("div",{className:"p-4 border-t border-gray-800",children:(0,r.jsx)("button",{onClick:()=>t(!s),className:"w-full flex items-center justify-center p-2 text-gray-400 hover:text-white transition-colors duration-200",children:s?"→":"←"})})]})}var h=t(6710),p=t(767),f=t(853),g=t(5288),j=t(5491),b=t(5236),v=t(1291);function y(){let[e,s]=(0,l.useState)(!1),t=(0,l.useRef)(null),{user:a,logout:n}=(0,v.yg)();return(0,l.useEffect)(()=>{function e(e){t.current&&!t.current.contains(e.target)&&s(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[t]),(0,r.jsxs)("div",{className:"relative",ref:t,children:[(0,r.jsxs)("button",{onClick:()=>s(!e),className:"flex items-center space-x-2 focus:outline-none",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center text-white font-medium",children:(null==a?void 0:a.picture)?(0,r.jsx)("img",{src:a.picture,alt:(null==a?void 0:a.given_name)||"User",className:"w-8 h-8 rounded-full"}):a&&a.given_name?[a.given_name,a.family_name].filter(Boolean).map(e=>(null==e?void 0:e[0])||"").join(""):"U"}),(0,r.jsx)("span",{className:"hidden md:block text-sm font-medium",children:(null==a?void 0:a.given_name)?"".concat(a.given_name," ").concat(a.family_name||""):"Guest"})]}),e&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-gray-800 border border-gray-700 rounded-md shadow-lg py-1 z-10",children:[(0,r.jsxs)("div",{className:"px-4 py-3 border-b border-gray-700",children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:(null==a?void 0:a.given_name)?"".concat(a.given_name," ").concat(a.family_name||""):"Guest"}),(0,r.jsx)("p",{className:"text-xs text-gray-400 truncate",children:(null==a?void 0:a.email)||""})]}),(0,r.jsx)(i(),{href:"/profile",passHref:!0,children:(0,r.jsxs)("div",{className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center",children:[(0,r.jsx)(j.A,{size:16,className:"mr-2"}),(0,r.jsx)("span",{children:"Your Profile"})]})}),(0,r.jsx)(i(),{href:"/subscriptions",passHref:!0,children:(0,r.jsxs)("div",{className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center",children:[(0,r.jsx)(c.A,{size:16,className:"mr-2"}),(0,r.jsx)("span",{children:"Your Subscriptions"})]})}),(0,r.jsx)(i(),{href:"/settings",passHref:!0,children:(0,r.jsxs)("div",{className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center",children:[(0,r.jsx)(m.A,{size:16,className:"mr-2"}),(0,r.jsx)("span",{children:"Settings"})]})}),(0,r.jsx)("div",{className:"border-t border-gray-700 mt-1 pt-1",children:(0,r.jsxs)("button",{onClick:()=>{n()},className:"block w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center",children:[(0,r.jsx)(b.A,{size:16,className:"mr-2"}),(0,r.jsx)("span",{children:"Sign out"})]})})]})]})}function N(e){let{sidebarCollapsed:s,toggleSidebar:t}=e,[a,i]=(0,l.useState)(!1),[n,o]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{o(!0),d(window.innerWidth>=768);let e=()=>{d(window.innerWidth>=768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.jsxs)("header",{className:"h-16 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-6",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-white mr-4 lg:hidden",children:s?(0,r.jsx)(h.A,{size:20}):(0,r.jsx)(p.A,{size:20})}),(0,r.jsx)("div",{className:"relative ".concat(a?"w-64":"w-auto"," md:w-64 transition-all duration-300"),children:n&&(a||c)?(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search...",className:"w-full bg-gray-800 text-gray-200 rounded-md py-2 pl-10 pr-4 focus:outline-none focus:ring-1 focus:ring-purple-500 text-sm"}),(0,r.jsx)(f.A,{size:16,className:"absolute left-3 top-2.5 text-gray-400"})]}):(0,r.jsx)("button",{onClick:()=>i(!0),className:"text-gray-400 hover:text-white",children:(0,r.jsx)(f.A,{size:20})})})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("button",{className:"relative text-gray-400 hover:text-white",children:[(0,r.jsx)(g.A,{size:20}),(0,r.jsx)("span",{className:"absolute -top-1 -right-1 bg-purple-500 rounded-full w-4 h-4 flex items-center justify-center text-xs",children:"2"})]}),(0,r.jsx)(y,{})]})]})}var w=t(9002),k=t.n(w);function A(e){let{children:s}=e,[t,a]=(0,l.useState)(!1);return(0,r.jsxs)("div",{className:"flex h-screen bg-gray-950 text-white ".concat(k().className),children:[(0,r.jsx)(u,{collapsed:t,setCollapsed:a}),(0,r.jsxs)("div",{className:"flex flex-col flex-1 overflow-hidden",children:[(0,r.jsx)(N,{sidebarCollapsed:t,toggleSidebar:()=>a(!t)}),(0,r.jsx)("main",{className:"flex-1 overflow-y-auto p-6 bg-gradient-to-br from-gray-900 to-gray-950",children:s})]})]})}},584:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var r=t(5155),l=t(2115),a=t(6793),i=t.n(a),n=t(2722),o=t(5565),c=t(3473),d=t(6046);function x(e){let s,t,{service:a,onClick:i}=e,n=(0,d.useRouter)(),[x,m]=(0,l.useState)(!1),[u,h]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{if(x){let e=setTimeout(()=>h(!0),100);return()=>clearTimeout(e)}{let e=setTimeout(()=>h(!1),100);return()=>clearTimeout(e)}},[x]),(0,r.jsx)("div",{className:"\n        aspect-square w-full perspective-1000 group cursor-pointer\n        transition-transform duration-300 \n        ".concat(x?"scale-[1]":"","\n      "),onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),onClick:i,children:(0,r.jsxs)("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-3d ".concat(u?"rotate-y-180":""),children:[(0,r.jsx)("div",{className:"absolute w-full h-full backface-hidden rounded-xl overflow-hidden transition-all duration-300 shadow-md",style:{background:"linear-gradient(to bottom, #1a1f2e, #131722)",borderTop:"3px solid ".concat(a.color),borderLeft:"1px solid ".concat(a.color,"30"),borderRight:"1px solid ".concat(a.color,"30"),boxShadow:x?"0 0 15px ".concat(a.color,"20"):"none"},children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center p-0",children:(0,r.jsx)("div",{className:"relative w-full h-full",children:(0,r.jsx)(o.default,{src:a.logo,alt:a.name,layout:"fill",objectFit:"cover",className:"transform scale-110"})})}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/70 to-transparent"}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-center",children:(0,r.jsx)("h3",{className:"text-xl font-bold text-white mb-1",children:a.name})})]})}),(0,r.jsx)("div",{className:"absolute w-full h-full backface-hidden rounded-xl overflow-hidden shadow-md rotate-y-180",style:{background:"linear-gradient(to bottom, #1a1f2e, #131722)",borderTop:"3px solid ".concat(a.color),borderLeft:"1px solid ".concat(a.color,"30"),borderRight:"1px solid ".concat(a.color,"30"),boxShadow:x?"0 0 15px ".concat(a.color,"20"):"none"},children:(0,r.jsxs)("div",{className:"flex flex-col h-full justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"px-3 py-2 flex items-center justify-between border-b border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"h-6 w-6 relative rounded-md overflow-hidden bg-gray-700 flex items-center justify-center mr-2",children:(0,r.jsx)(o.default,{src:a.logo,alt:a.name,width:24,height:24})}),(0,r.jsx)("h3",{className:"text-base font-semibold text-white truncate max-w-32",children:a.name})]}),(0,r.jsxs)("div",{className:"text-base font-bold text-white whitespace-nowrap",children:["$",a.price.toFixed(2),(0,r.jsx)("span",{className:"text-xs text-gray-400",children:"/mo"})]})]}),a.description&&(0,r.jsx)("p",{className:"px-3 pt-2 text-xs text-gray-300",children:(s=a.description,t=(()=>{let e=a.name.length,s=a.price.toString().length;return e>15||s>4?60:85})(),s.length>t?s.substring(0,t)+"...":s)}),void 0!==a.activePools&&(0,r.jsxs)("div",{className:"px-3 pt-1 text-xs text-gray-300",children:[(0,r.jsx)("span",{className:"font-medium",children:a.activePools})," active pools"]})]}),(0,r.jsxs)("div",{className:"px-3 flex-shrink",children:[(0,r.jsx)("div",{className:"text-xs text-white font-medium mb-1",children:"Plan includes:"}),(0,r.jsxs)("ul",{className:"space-y-1",children:[(0,r.jsxs)("li",{className:"flex items-start text-xs text-gray-300",children:[(0,r.jsx)("div",{className:"text-green-400 mr-1",children:"✓"}),(0,r.jsxs)("div",{className:"truncate",children:["Premium ",a.name," service"]})]}),a.activePools&&(0,r.jsxs)("li",{className:"flex items-start text-xs text-gray-300",children:[(0,r.jsx)("div",{className:"text-green-400 mr-1",children:"✓"}),(0,r.jsx)("div",{className:"truncate",children:"24/7 customer support"})]})]})]}),(0,r.jsx)("div",{className:"px-3 pb-3 pt-2 mt-auto",children:(0,r.jsxs)("button",{className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white py-2 px-3 rounded-md flex items-center justify-center transition duration-200 text-sm",onClick:e=>{e.stopPropagation(),n.push("/pools?service=".concat(encodeURIComponent(a.name)))},children:[(0,r.jsx)(c.A,{size:14,className:"mr-1"}),"Explore Pool"]})})]})})]})})}var m=t(853),u=t(4267),h=t(7594);let p=()=>{let[e,s]=(0,l.useState)([]),[t,a]=(0,l.useState)(["All"]),[o,c]=(0,l.useState)(""),[d,p]=(0,l.useState)("All"),[f,g]=(0,l.useState)(!0),[j,b]=(0,l.useState)(null);(0,l.useEffect)(()=>{(async()=>{try{g(!0);let e=await fetch("http://localhost:3001/api/subscription-services");if(!e.ok)throw Error("Error: ".concat(e.status));let t=await e.json(),r=[...new Set(t.map(e=>e.category))].filter(Boolean);a(["All",...r]);let l=t.map(e=>({id:e.serviceId,name:e.name,logo:e.logoUrl||"/assets/logos/placeholder.svg",price:parseFloat((20*Math.random()+5).toFixed(2)),description:e.description||"No description available",color:e.color||"#888888",category:e.category,activePools:Math.floor(15*Math.random())+1}));s(l)}catch(e){console.error("Failed to fetch subscription services:",e),b("Failed to load subscription services. Please try again later.")}finally{g(!1)}})()},[]);let v=e.filter(e=>{let s=e.name.toLowerCase().includes(o.toLowerCase()),t="All"===d||e.category===d;return s&&t}),y=e=>{console.log("Clicked on service: ".concat(e))};return(0,r.jsxs)(n.A,{children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:"Available Subscriptions | SubSplitter"})}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-1",children:"Available Subscriptions"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Browse and join subscription pools"})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 mb-6",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search subscriptions...",className:"w-full bg-gray-800 text-gray-200 rounded-md py-2 pl-10 pr-4 focus:outline-none focus:ring-1 focus:ring-purple-500",value:o,onChange:e=>c(e.target.value)}),(0,r.jsx)(m.A,{size:18,className:"absolute left-3 top-2.5 text-gray-400"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("select",{className:"appearance-none bg-gray-800 text-gray-200 rounded-md py-2 pl-10 pr-8 focus:outline-none focus:ring-1 focus:ring-purple-500",value:d,onChange:e=>p(e.target.value),children:t.map(e=>(0,r.jsx)("option",{value:e,children:e},e))}),(0,r.jsx)(u.A,{size:18,className:"absolute left-3 top-2.5 text-gray-400"}),(0,r.jsx)("div",{className:"absolute right-2 top-2.5 pointer-events-none text-gray-400",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("polyline",{points:"6 9 12 15 18 9"})})})]})]}),f&&(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,r.jsx)(h.A,{size:32,className:"text-purple-500 animate-spin mb-4"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Loading subscription services..."})]}),j&&(0,r.jsxs)("div",{className:"bg-red-900/30 border border-red-500/50 rounded-xl p-6 mb-6",children:[(0,r.jsx)("p",{className:"text-red-200 font-semibold",children:j}),(0,r.jsx)("button",{className:"mt-4 bg-red-500 hover:bg-red-600 text-white py-1 px-4 rounded-md text-sm transition duration-200",onClick:()=>window.location.reload(),children:"Retry"})]}),!f&&!j&&(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 xl:gap-8",children:v.map(e=>(0,r.jsx)(x,{service:e,onClick:()=>y(e.id)},e.id))}),!f&&!j&&0===v.length&&(0,r.jsxs)("div",{className:"bg-gray-800 rounded-xl p-8 text-center",children:[(0,r.jsx)("div",{className:"mx-auto w-16 h-16 bg-gray-700 rounded-full flex items-center justify-center mb-4",children:(0,r.jsx)(m.A,{size:24,className:"text-gray-500"})}),(0,r.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"No subscriptions found"}),(0,r.jsx)("p",{className:"text-gray-400 mb-4",children:"Try adjusting your search or filter criteria"}),(0,r.jsx)("button",{className:"bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-md transition duration-200",onClick:()=>{c(""),p("All")},children:"Clear Filters"})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[407,291,921,600,441,517,358],()=>s(2882)),_N_E=e.O()}]);