(()=>{var e={};e.id=105,e.ids=[105],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},5151:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c});var r=s(260),i=s(8203),n=s(5155),a=s.n(n),o=s(7292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7154)),"X:\\Web Devlopment\\SubSplitter\\Frontend\\src\\app\\dashboard\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,1354)),"X:\\Web Devlopment\\SubSplitter\\Frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["X:\\Web Devlopment\\SubSplitter\\Frontend\\src\\app\\dashboard\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1056:(e,t,s)=>{Promise.resolve().then(s.bind(s,7154))},432:(e,t,s)=>{Promise.resolve().then(s.bind(s,7164))},9905:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1680).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},1393:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1680).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},6766:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1680).A)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},5694:()=>{},2008:(e,t,s)=>{"use strict";s(5694);var r=s(8009),i=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(r),n="undefined"!=typeof process&&process.env&&!0,a=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var t=void 0===e?{}:e,s=t.name,r=void 0===s?"stylesheet":s,i=t.optimizeForSpeed,o=void 0===i?n:i;l(a(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",l("boolean"==typeof o,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=o,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var t=e.prototype;return t.setOptimizeForSpeed=function(e){l("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),l(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;l(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){return l(a(e),"`insertRule` accepts only strings"),"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++},t.replaceRule=function(e,t){this._optimizeForSpeed;var s=this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(r){n||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),s.insertRule(this._deletedRulePlaceholder,e)}return e},t.deleteRule=function(e){this._serverSheet.deleteRule(e)},t.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},t.cssRules=function(){return this._serverSheet.cssRules},t.makeStyleTag=function(e,t,s){t&&l(a(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var i=document.head||document.getElementsByTagName("head")[0];return s?i.insertBefore(r,s):i.appendChild(r),r},function(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function l(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},d={};function u(e,t){if(!t)return"jsx-"+e;var s=String(t),r=e+s;return d[r]||(d[r]="jsx-"+c(e+"-"+s)),d[r]}function h(e,t){var s=e+(t=t.replace(/\/style/gi,"\\/style"));return d[s]||(d[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),d[s]}var p=r.createContext(null);p.displayName="StyleSheetContext",i.default.useInsertionEffect||i.default.useLayoutEffect;var m=void 0;function x(e){var t=m||r.useContext(p);return t&&t.add(e),null}x.dynamic=function(e){return e.map(function(e){return u(e[0],e[1])}).join(" ")},t.style=x},63:(e,t,s)=>{"use strict";e.exports=s(2008).style},7164:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var r=s(5512),i=s(63),n=s.n(i),a=s(8009),o=s(6095),l=s.n(o),c=s(9621);function d({title:e,value:t,description:s,icon:i,trend:n}){return(0,r.jsxs)("div",{className:"bg-gray-800 rounded-xl p-5",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("h3",{className:"text-gray-400 text-sm font-medium",children:e}),i&&(0,r.jsx)("div",{className:"text-gray-400",children:i})]}),(0,r.jsxs)("div",{className:"flex items-baseline space-x-2",children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:t}),n&&(0,r.jsxs)("div",{className:`text-sm ${n.isPositive?"text-green-400":"text-red-400"} flex items-center`,children:[n.isPositive?"↑":"↓"," ",Math.abs(n.value),"%"]})]}),s&&(0,r.jsx)("p",{className:"text-gray-400 text-xs mt-1",children:s})]})}var u=s(5103),h=s(8741);function p({service:e,onClick:t}){return(0,r.jsx)("div",{className:"bg-gray-800 rounded-xl overflow-hidden transition-all duration-300 hover:shadow-lg hover:translate-y-[-4px]",style:{borderTop:`4px solid ${e.color}`},onClick:t,children:(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("div",{className:"h-12 w-12 relative rounded-lg overflow-hidden bg-gray-700 flex items-center justify-center",children:(0,r.jsx)(u.default,{src:e.logo,alt:e.name,width:36,height:36})}),(0,r.jsxs)("div",{className:"text-xl font-bold text-white",children:["$",e.price.toFixed(2),(0,r.jsx)("span",{className:"text-sm text-gray-400",children:"/mo"})]})]}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:e.name}),(0,r.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:e.description}),void 0!==e.activePools&&(0,r.jsxs)("div",{className:"text-sm text-gray-300 mb-4",children:[(0,r.jsx)("span",{className:"font-medium",children:e.activePools})," active pools"]}),(0,r.jsxs)("button",{className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-md flex items-center justify-center transition duration-200",children:[(0,r.jsx)(h.A,{size:16,className:"mr-2"}),"Join Pool"]})]})})}var m=s(2610),x=s(6795),f=s(1393),v=s(4977),g=s(1680);let y=(0,g.A)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var b=s(6766);let j=(0,g.A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var S=s(9905),w=s(5402);let N={Netflix:"#E50914",Spotify:"#1DB954","Disney+":"#0063E5","Amazon Prime":"#FF9900","YouTube Premium":"#FF0000","HBO Max":"#5822B4","Apple TV+":"#000000"},_=()=>{let[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[o,u]=(0,a.useState)(!0),[h,g]=(0,a.useState)(0),[_,P]=(0,a.useState)(0),[k,A]=(0,a.useState)(0),R=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=async()=>{try{i([{id:"1",name:"Netflix",logo:"/assets/logos/netflix.svg",price:15.99,description:"Premium streaming service with movies, TV shows, and more.",color:"#E50914",activePools:3},{id:"2",name:"Spotify",logo:"/assets/logos/spotify.svg",price:9.99,description:"Music streaming with millions of songs and podcasts.",color:"#1DB954",activePools:5},{id:"3",name:"Disney+",logo:"/assets/logos/disneyplus.svg",price:8.99,description:"Stream Disney, Marvel, Star Wars, and more.",color:"#0063E5",activePools:2}])}catch(e){console.error("Error fetching popular services:",e)}};(async()=>{try{let e=await w.U.getUserPools(),s=await Promise.all(e.map(async e=>{if(!e.serviceName||!e.serviceLogoUrl)try{let t=await w.U.getServiceInfo(e.serviceId);return{...e,serviceName:t.name,serviceLogoUrl:t.logoUrl}}catch(t){console.error(`Error fetching service info for pool ${e.poolId}:`,t)}return e}));t(s);let r=s.reduce((e,t)=>e+parseFloat(t.costPerSlot),0);g(r)}catch(e){console.error("Error fetching user pools:",e)}finally{u(!1)}})(),e()},[]),(0,a.useEffect)(()=>{let e=()=>{if(R.current){let e=R.current;A(e.scrollWidth-e.clientWidth)}};e(),window.addEventListener("resize",e);let t=()=>{R.current&&P(R.current.scrollLeft)},s=R.current;return s&&s.addEventListener("scroll",t),()=>{window.removeEventListener("resize",e),s&&s.removeEventListener("scroll",t)}},[e]);let z=e.map(e=>{let t=N[e.serviceName||""]||"#6366f1",s=new Date(e.membershipStatus?.joinedAt||new Date),r=new Date(s);r.setMonth(s.getMonth()+1);let i=[{id:"1",name:"You",isPrimary:!1},{id:"2",name:"Primary Owner",isPrimary:!0}],n=e.slotsTotal-e.slotsAvailable;if(n>2)for(let e=3;e<=n;e++)i.push({id:`${e}`,name:`Member ${e-1}`,isPrimary:!1});return{id:e.poolId,serviceName:e.serviceName||"Subscription Service",serviceLogo:e.serviceLogoUrl||"/assets/logos/default.svg",serviceColor:t,totalCost:parseFloat(e.costPerSlot)*e.slotsTotal,splitCost:parseFloat(e.costPerSlot),members:i,capacity:e.slotsTotal,slotsAvailable:e.slotsAvailable||0,expiresAt:r.toISOString(),status:e.membershipStatus?.accessStatus==="active"?"active":"pending",isUserMember:!0}});return(0,r.jsxs)(c.A,{children:[(0,r.jsx)(l(),{children:(0,r.jsx)("title",{children:"Dashboard | SubSplitter"})}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-1",children:"Welcome back, John"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Here's what's happening with your subscriptions"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)(d,{title:"Total Subscriptions",value:e.length,icon:(0,r.jsx)(x.A,{size:20}),description:`Across ${new Set(e.map(e=>e.serviceName)).size} services`}),(0,r.jsx)(d,{title:"Monthly Spending",value:`$${h.toFixed(2)}`,trend:{value:15,isPositive:!1},icon:(0,r.jsx)(f.A,{size:20}),description:"vs. $32.48 last month"}),(0,r.jsx)(d,{title:"Active Pools",value:e.filter(e=>e.membershipStatus?.accessStatus==="active").length,icon:(0,r.jsx)(v.A,{size:20}),description:`${e.length-e.filter(e=>e.membershipStatus?.accessStatus==="active").length} pending`}),(0,r.jsx)(d,{title:"Total Saved",value:"$142.68",trend:{value:8,isPositive:!0},icon:(0,r.jsx)(y,{size:20}),description:"Lifetime savings"})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,r.jsx)("h2",{className:"text-xl font-bold",children:"Your Joined Pools"})}),o?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,r.jsx)(b.A,{size:32,className:"text-purple-500 animate-spin mb-4"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Loading subscription pools..."})]}):0===e.length?(0,r.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-6 text-center",children:[(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"You haven't joined any subscription pools yet."}),(0,r.jsx)("button",{className:"mt-4 bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 transition",children:"Browse Available Pools"})]}):(0,r.jsxs)("div",{className:"jsx-f109046e9fac516 relative",children:[_>0&&(0,r.jsx)("button",{onClick:()=>{R.current&&R.current.scrollBy({left:-320,behavior:"smooth"})},"aria-label":"Scroll left",className:"jsx-f109046e9fac516 absolute left-0 top-1/2 -translate-y-1/2 -ml-4 z-10 h-10 w-10 bg-white dark:bg-gray-800 rounded-full shadow-lg flex items-center justify-center opacity-90 hover:opacity-100 transition",children:(0,r.jsx)(j,{size:20,className:"text-gray-600 dark:text-gray-300"})}),_<k&&(0,r.jsx)("button",{onClick:()=>{R.current&&R.current.scrollBy({left:320,behavior:"smooth"})},"aria-label":"Scroll right",className:"jsx-f109046e9fac516 absolute right-0 top-1/2 -translate-y-1/2 -mr-4 z-10 h-10 w-10 bg-white dark:bg-gray-800 rounded-full shadow-lg flex items-center justify-center opacity-90 hover:opacity-100 transition",children:(0,r.jsx)(S.A,{size:20,className:"text-gray-600 dark:text-gray-300"})}),(0,r.jsxs)("div",{ref:R,style:{scrollbarWidth:"none",msOverflowStyle:"none"},className:"jsx-f109046e9fac516 flex overflow-x-auto pb-4 scrollbar-hide snap-x scroll-smooth",children:[z.map(e=>(0,r.jsx)("div",{className:"jsx-f109046e9fac516 flex-none w-80 mr-4 snap-start",children:(0,r.jsx)(m.A,{pool:e})},e.id)),(0,r.jsx)("div",{className:"jsx-f109046e9fac516 flex-none w-4"})]}),(0,r.jsx)(n(),{id:"f109046e9fac516",children:".scrollbar-hide.jsx-f109046e9fac516::-webkit-scrollbar{display:none}"}),z.length>1&&(0,r.jsx)("div",{className:"jsx-f109046e9fac516 flex justify-center mt-4 space-x-1",children:z.map((e,t)=>{let s=_>=320*t-160&&_<(t+1)*320-160;return(0,r.jsx)("div",{className:`jsx-f109046e9fac516 h-1 rounded-full transition-all duration-300 ${s?"w-6 bg-purple-500":"w-3 bg-gray-300 dark:bg-gray-700"}`},t)})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:"Popular Subscriptions"}),(0,r.jsx)("button",{className:"text-purple-500 text-sm hover:text-purple-400 transition",children:"Browse All"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>(0,r.jsx)(p,{service:e},e.id))})]})]})}},7154:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"X:\\\\Web Devlopment\\\\SubSplitter\\\\Frontend\\\\src\\\\app\\\\dashboard\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"X:\\Web Devlopment\\SubSplitter\\Frontend\\src\\app\\dashboard\\page.tsx","default")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,263,433,163,441,286],()=>s(5151));module.exports=r})();